# SaaS Template Import Environment Template (END USER)
# This file contains variables for IMPORTING to your new Supabase project
# Copy this file to .env.import and fill in your new project details

# =============================================================================
# TARGET PROJECT (Import To) - YOUR NEW PROJECT
# =============================================================================

# Your new Supabase project details (where you want to import the template)
NEW_PROJECT_REF="your-new-project-ref"
NEW_PROJECT_URL="https://your-new-project.supabase.co"
NEW_SERVICE_ROLE_KEY="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
NEW_DB_PASSWORD="your-new-database-password"

# Personal access token (get from https://supabase.com/dashboard/account/tokens)
SUPABASE_ACCESS_TOKEN="sbp_..."

# =============================================================================
# IMPORT OPTIONS
# =============================================================================

# What to import (set to false to skip components)
IMPORT_DATABASE="true"               # Import database schema and data
IMPORT_STORAGE="true"                # Import storage buckets and objects
IMPORT_FUNCTIONS="true"              # Import Edge Functions
VERIFY_MIGRATION="true"              # Run verification after import

# Safety options
CREATE_BACKUP_BEFORE_IMPORT="true"   # Create backup of target project first
ROLLBACK_ON_FAILURE="false"          # Automatically rollback on any failure

# Performance tuning
STORAGE_BATCH_SIZE="5"               # Number of concurrent storage uploads
STORAGE_MAX_FILE_SIZE="50MB"         # Skip files larger than this size

# =============================================================================
# LOGGING AND REPORTING
# =============================================================================

# Log levels: error, warn, info, debug
LOG_LEVEL="info"

# Generate detailed reports after import
GENERATE_REPORTS="true"

# =============================================================================
# USAGE INSTRUCTIONS
# =============================================================================

# 1. Create your new Supabase project at https://supabase.com
# 2. Copy this file: cp .env.import-template .env.import
# 3. Fill in your new project credentials above
# 4. Load environment: source .env.import
# 5. Install dependencies: npm install
# 6. Run import: npm run import
# 7. Verify success: npm run verify
# 8. Complete manual setup steps (see README.md)

# =============================================================================
# MANUAL STEPS AFTER IMPORT (REQUIRED)
# =============================================================================

# After successful import, you MUST update these in your application:

# 1. Application Environment Variables (.env.local or similar):
# NEXT_PUBLIC_SUPABASE_URL=https://your-new-project.supabase.co
# NEXT_PUBLIC_SUPABASE_ANON_KEY=your-new-anon-key
# SUPABASE_SERVICE_ROLE_KEY=your-new-service-role-key

# 2. Clerk Configuration (if using authentication):
# NEXT_PUBLIC_CLERK_PUBLISHABLE_KEY=your-clerk-publishable-key
# CLERK_SECRET_KEY=your-clerk-secret-key
# NEXT_PUBLIC_CLERK_SIGN_UP_FORCE_REDIRECT_URL=/onboarding
# NEXT_PUBLIC_CLERK_SIGN_IN_FORCE_REDIRECT_URL=/dashboard

# 3. Clerk JWT Template (CRITICAL - see README.md for exact template)
# 4. Update webhook URLs in external services
# 5. Test all critical functionality

# =============================================================================
# SECURITY NOTES (END USER)
# =============================================================================

# - Never commit this file with real credentials to version control
# - Rotate access tokens after migration
# - Update webhook URLs in external services after migration
# - Test all integrations thoroughly after import
# - Keep this file secure and restrict access

# =============================================================================
# VARIABLE REFERENCE FOR SCRIPTS
# =============================================================================

# Import scripts expect these variable names:
# - NEW_PROJECT_REF: Target project reference
# - NEW_PROJECT_URL: Target project URL  
# - NEW_SERVICE_ROLE_KEY: Target service role key
# - NEW_DB_PASSWORD: Target database password
# - SUPABASE_ACCESS_TOKEN: Personal access token for API access

# =============================================================================
# SUPPORT
# =============================================================================

# For issues with import:
# 1. Check logs in logs/ directory
# 2. Run verification: npm run verify
# 3. Review import report in ../exports/import-report.txt
# 4. See troubleshooting section in README.md